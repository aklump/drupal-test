<!DOCTYPE html>

<html>
<head>
  <title>Cheatsheet for End to End Tests</title>
  <link href="search/tipuesearch.css" rel="stylesheet">
  <link href="style.css" rel="stylesheet">
</head>

<body class="page--e2e--end-to-end-cs">
<header>
  <div class="pager"><a href="e2e--example.html" class="prev e2e--example">&laquo;An Example End To End Test</a><a href="index.html" class="index pager__book-title">Drupal Test</a><a href="e2e--observation-mode.html" class="next observation-mode">Observation Mode&raquo;</a></div></header>
<section class="sub-header">
  <div class="breadcrumbs"><a href="index.html">Index</a>
         &raquo
                        <a href="e2e--end-to-end.html">End to End Testing</a>
         &raquo
      </div>      <div class="search__wrapper">
  <form action="search--results.html">
    <input type="text" class="search-input" name="q" id="tipue_search_input" autocomplete="off" required>
  </form>
</div>
  </section>


<h1>Cheatsheet for End to End Tests</h1>

<section>

<h2>Generating Data</h2>

<p>When filling out forms you probably want to use the generators.</p>

<pre><code> $el['.t-field_first_name']-&gt;setValue($this-&gt;generate('name:first'));
</code></pre>

<table>
<thead>
<tr>
  <th>Generators</th>
</tr>
</thead>
<tbody>
<tr>
  <td><strong>email</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>name</strong> <em>($length = 5)</em></td>
</tr>
<tr>
  <td><strong>password</strong> <em>($length = 32)</em></td>
</tr>
<tr>
  <td><strong>phone</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>sentence</strong> <em>($wordcount = 5)</em></td>
</tr>
<tr>
  <td><strong>title</strong> <em>($wordcount = 5)</em></td>
</tr>
<tr>
  <td><strong>url</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>username</strong> <em>($length = 10)</em></td>
</tr>
<tr>
  <td><strong>words</strong> <em>($wordcount = 5)</em></td>
</tr>
</tbody>
</table>

<table>
<thead>
<tr>
  <th>EndToEndTestCase</th>
</tr>
</thead>
<tbody>
<tr>
  <td><strong>assert</strong> <em>($fail_message = '')</em></td>
</tr>
<tr>
  <td><strong>assertElementExists</strong> <em>($css_selector, $failure_message = '')</em></td>
</tr>
<tr>
  <td><strong>assertElementNotExists</strong> <em>($css_selector, $failure_message = '')</em></td>
</tr>
<tr>
  <td><strong>assertElementNotVisible</strong> <em>($css_selector, $failure_message = '')</em></td>
</tr>
<tr>
  <td><strong>assertElementVisible</strong> <em>($css_selector, $failure_message = '')</em></td>
</tr>
<tr>
  <td><strong>assertManual</strong> <em>($assertion, array $prerequisite_steps = Array)</em></td>
</tr>
<tr>
  <td><strong>beginObservation</strong> <em>($button_title = '', array $button_css_classes = Array)</em></td>
</tr>
<tr>
  <td><strong>debugger</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>destructiveAssertPreConditions</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>el</strong> <em>($css_selector, $limit_to_one = true)</em></td>
</tr>
<tr>
  <td><strong>els</strong> <em>($css_selector)</em></td>
</tr>
<tr>
  <td><strong>endObservation</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>generate</strong> <em>($method)</em></td>
</tr>
<tr>
  <td><strong>getDomElements</strong> <em>(array $css_selectors)</em></td>
</tr>
<tr>
  <td><strong>getEmailHandler</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>getSession</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>getStored</strong> <em>($key, $default = NULL)</em></td>
</tr>
<tr>
  <td><strong>interactiveAssertPreConditions</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>loadPageByUrl</strong> <em>($url)</em></td>
</tr>
<tr>
  <td><strong>requireElement</strong> <em>($css_selector)</em></td>
</tr>
<tr>
  <td><strong>scrollTop</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>setEmailHandler</strong> <em>(AKlump\DrupalTest\Utilities\EmailHandlerInterface $handler)</em></td>
</tr>
<tr>
  <td><strong>store</strong> <em>($key, $value)</em></td>
</tr>
<tr>
  <td><strong>wait</strong> <em>($seconds)</em></td>
</tr>
<tr>
  <td><strong>waitFor</strong> <em>(callable $test, $description = NULL, $timeout = NULL)</em></td>
</tr>
<tr>
  <td><strong>waitForElement</strong> <em>($css_selector, $timeout = NULL)</em></td>
</tr>
<tr>
  <td><strong>waitForElementNotVisible</strong> <em>($css_selector, $timeout = NULL)</em></td>
</tr>
<tr>
  <td><strong>waitForElementVisible</strong> <em>($css_selector, $timeout = NULL)</em></td>
</tr>
<tr>
  <td><strong>waitForEmail</strong> <em>($expected_count = 1, $timeout = NULL)</em></td>
</tr>
<tr>
  <td><strong>waitForObserver</strong> <em>($css_selector)</em></td>
</tr>
<tr>
  <td><strong>waitForObserverPopup</strong> <em>(AKlump\DrupalTest\Utilities\Popup $popup)</em></td>
</tr>
<tr>
  <td><strong>waitForPageContains</strong> <em>($substring, $timeout = NULL)</em></td>
</tr>
</tbody>
</table>

<blockquote>
  <p>There is some overlap in assertions between methods of <code>ClientTestCase</code> and methods on Mink's <code>WebAssert</code> class, but the former always uses css selectors, so it's a little less verbose.</p>
</blockquote>

<h2>Working with <code>NodeElement</code> objects</h2>

<p>Learn <a href="http://mink.behat.org/en/latest/guides/traversing-pages.html#documentelement-and-nodeelement">more here</a>.</p>

<pre><code>&lt;?php

class Test {

  public function testExample() {

    // By using getDomElements we ensure only one of .t-link.
    $el = $this-&gt;loadPageByUrl('/node/9750')
      -&gt;getDomElements([
        '.t-link',
      ]);

    // $el['.t-link'] is an instance of NodeElement.
    $el['.t-link']-&gt;click();

    // Altenatively you could do this.  But it will not break if there is
    // more than one '.t-link' on the page. So it's less certain.
    $this-&gt;el('.t-link')-&gt;click()
      }

}
</code></pre>

<table>
<thead>
<tr>
  <th>NodeElement</th>
</tr>
</thead>
<tbody>
<tr>
  <td><strong>attachFile</strong> <em>($path)</em></td>
</tr>
<tr>
  <td><strong>blur</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>check</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>click</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>doubleClick</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>dragTo</strong> <em>(Behat\Mink\Element\ElementInterface $destination)</em></td>
</tr>
<tr>
  <td><strong>focus</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>getAttribute</strong> <em>($name)</em></td>
</tr>
<tr>
  <td><strong>getParent</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>getTagName</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>getValue</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>getXpath</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>hasAttribute</strong> <em>($name)</em></td>
</tr>
<tr>
  <td><strong>hasClass</strong> <em>($className)</em></td>
</tr>
<tr>
  <td><strong>isChecked</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>isSelected</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>isVisible</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>keyDown</strong> <em>($char, $modifier = NULL)</em></td>
</tr>
<tr>
  <td><strong>keyPress</strong> <em>($char, $modifier = NULL)</em></td>
</tr>
<tr>
  <td><strong>keyUp</strong> <em>($char, $modifier = NULL)</em></td>
</tr>
<tr>
  <td><strong>mouseOver</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>press</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>rightClick</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>selectOption</strong> <em>($option, $multiple = false)</em></td>
</tr>
<tr>
  <td><strong>setValue</strong> <em>($value)</em></td>
</tr>
<tr>
  <td><strong>submit</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>uncheck</strong> <em>()</em></td>
</tr>
</tbody>
</table>

<h2>Making Assertions with Mink</h2>

<p>Load a page and then make assertions using Mink's <em>WebAssert</em> class.</p>

<pre><code>&lt;?php

class Test {

  public function testExample() {
    $this-&gt;loadPageByUrl('/node/9750')
      -&gt;assert()
      -&gt;elementTextContains('css', '#button', 'English');

    $this-&gt;assert()
      -&gt;elementTextContains('css', '#button-2', 'Spanish');
  }

}
</code></pre>

<table>
<thead>
<tr>
  <th>WebAssert</th>
</tr>
</thead>
<tbody>
<tr>
  <td><strong>addressEquals</strong> <em>($page)</em></td>
</tr>
<tr>
  <td><strong>addressMatches</strong> <em>($regex)</em></td>
</tr>
<tr>
  <td><strong>addressNotEquals</strong> <em>($page)</em></td>
</tr>
<tr>
  <td><strong>checkboxChecked</strong> <em>($field, Behat\Mink\Element\TraversableElement or NULL $container = NULL)</em></td>
</tr>
<tr>
  <td><strong>checkboxNotChecked</strong> <em>($field, Behat\Mink\Element\TraversableElement or NULL $container = NULL)</em></td>
</tr>
<tr>
  <td><strong>cookieEquals</strong> <em>($name, $value)</em></td>
</tr>
<tr>
  <td><strong>cookieExists</strong> <em>($name)</em></td>
</tr>
<tr>
  <td><strong>elementAttributeContains</strong> <em>($selectorType, $selector, $attribute, $text)</em></td>
</tr>
<tr>
  <td><strong>elementAttributeExists</strong> <em>($selectorType, $selector, $attribute)</em></td>
</tr>
<tr>
  <td><strong>elementAttributeNotContains</strong> <em>($selectorType, $selector, $attribute, $text)</em></td>
</tr>
<tr>
  <td><strong>elementContains</strong> <em>($selectorType, $selector, $html)</em></td>
</tr>
<tr>
  <td><strong>elementExists</strong> <em>($selectorType, $selector, Behat\Mink\Element\ElementInterface or NULL $container = NULL)</em></td>
</tr>
<tr>
  <td><strong>elementNotContains</strong> <em>($selectorType, $selector, $html)</em></td>
</tr>
<tr>
  <td><strong>elementNotExists</strong> <em>($selectorType, $selector, Behat\Mink\Element\ElementInterface or NULL $container = NULL)</em></td>
</tr>
<tr>
  <td><strong>elementsCount</strong> <em>($selectorType, $selector, $count, Behat\Mink\Element\ElementInterface or NULL $container = NULL)</em></td>
</tr>
<tr>
  <td><strong>elementTextContains</strong> <em>($selectorType, $selector, $text)</em></td>
</tr>
<tr>
  <td><strong>elementTextNotContains</strong> <em>($selectorType, $selector, $text)</em></td>
</tr>
<tr>
  <td><strong>fieldExists</strong> <em>($field, Behat\Mink\Element\TraversableElement or NULL $container = NULL)</em></td>
</tr>
<tr>
  <td><strong>fieldNotExists</strong> <em>($field, Behat\Mink\Element\TraversableElement or NULL $container = NULL)</em></td>
</tr>
<tr>
  <td><strong>fieldValueEquals</strong> <em>($field, $value, Behat\Mink\Element\TraversableElement or NULL $container = NULL)</em></td>
</tr>
<tr>
  <td><strong>fieldValueNotEquals</strong> <em>($field, $value, Behat\Mink\Element\TraversableElement or NULL $container = NULL)</em></td>
</tr>
<tr>
  <td><strong>pageTextContains</strong> <em>($text)</em></td>
</tr>
<tr>
  <td><strong>pageTextMatches</strong> <em>($regex)</em></td>
</tr>
<tr>
  <td><strong>pageTextNotContains</strong> <em>($text)</em></td>
</tr>
<tr>
  <td><strong>pageTextNotMatches</strong> <em>($regex)</em></td>
</tr>
<tr>
  <td><strong>responseContains</strong> <em>($text)</em></td>
</tr>
<tr>
  <td><strong>responseHeaderContains</strong> <em>($name, $value)</em></td>
</tr>
<tr>
  <td><strong>responseHeaderEquals</strong> <em>($name, $value)</em></td>
</tr>
<tr>
  <td><strong>responseHeaderMatches</strong> <em>($name, $regex)</em></td>
</tr>
<tr>
  <td><strong>responseHeaderNotContains</strong> <em>($name, $value)</em></td>
</tr>
<tr>
  <td><strong>responseHeaderNotEquals</strong> <em>($name, $value)</em></td>
</tr>
<tr>
  <td><strong>responseHeaderNotMatches</strong> <em>($name, $regex)</em></td>
</tr>
<tr>
  <td><strong>responseMatches</strong> <em>($regex)</em></td>
</tr>
<tr>
  <td><strong>responseNotContains</strong> <em>($text)</em></td>
</tr>
<tr>
  <td><strong>responseNotMatches</strong> <em>($regex)</em></td>
</tr>
<tr>
  <td><strong>statusCodeEquals</strong> <em>($code)</em></td>
</tr>
<tr>
  <td><strong>statusCodeNotEquals</strong> <em>($code)</em></td>
</tr>
</tbody>
</table>
</section>

<div class="search__results">
  <div id="tipue_search_content"></div>
</div>

<footer>
  <div class="pager"><a href="e2e--example.html" class="prev e2e--example">&laquo;An Example End To End Test</a><a href="index.html" class="index pager__book-title">Drupal Test</a><a href="e2e--observation-mode.html" class="next observation-mode">Observation Mode&raquo;</a></div>  
  <div id="footer-legaleeze">
    <p class="legaleeze center">Version: 0.5.8 &bull; Last Updated: Sat, 11 May 2019 09:49:08 -0700</p>
  </div>
</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="search/tipuesearch_content.js"></script>
  <script src="search/tipuesearch_set.js"></script>
  <script src="search/tipuesearch.min.js"></script>
  <script>
    $(document).ready(function() {
      $('#tipue_search_input').tipuesearch()
    })
  </script>
<script src="js/core.js"></script>
</body>
</html>

