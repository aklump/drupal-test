<!DOCTYPE html>

<html>
<head>
  <title>Code Coverage Reports</title>
  <link href="search/tipuesearch.css" rel="stylesheet">
  <link href="style.css" rel="stylesheet">
</head>

<body class="page--coverage">
<header>
  <div class="pager"><a href="class_args_map.html" class="prev class_args_map">&laquo;Class Arguments Map</a><a href="index.html" class="index pager__book-title">Drupal Test</a><a href="destructive.html" class="next destructive">Destructive Tests&raquo;</a></div></header>
<section class="sub-header">
  <div class="breadcrumbs"><a href="index.html">Index</a>
         &raquo
                        <a href="README.html">Using Drupal Test</a>
         &raquo
      </div>      <div class="search__wrapper">
  <form action="search--results.html">
    <input type="text" class="search-input" name="q" id="tipue_search_input" autocomplete="off" required>
  </form>
</div>
  </section>


<h1>Code Coverage Reports</h1>

<section>

<ol>
<li><p>Add something like the following to the runner's <em>phpunit.xml</em>. <a href="https://phpunit.de/manual/6.5/en/appendixes.configuration.html#appendixes.configuration.whitelisting-files">more info</a></p>

<pre><code>&lt;filter&gt;
    &lt;whitelist processUncoveredFilesFromWhitelist="true"&gt;
        &lt;directory suffix=".php"&gt;../web/modules/custom/loft_core&lt;/directory&gt;
        &lt;exclude&gt;
            &lt;file&gt;../web/modules/custom/loft_core/src/StaticContentStreamWrapper.php&lt;/file&gt;
        &lt;/exclude&gt;
        &lt;!-- By definition test classes have no tests. --&gt;
        &lt;exclude&gt;
          &lt;directory suffix="Test.php"&gt;./&lt;/directory&gt;
          &lt;directory suffix="TestBase.php"&gt;./&lt;/directory&gt;
        &lt;/exclude&gt;
    &lt;/whitelist&gt;
&lt;/filter&gt;
</code></pre></li>
<li><p>Use the CLI flag <code>--coverage-html &lt;directory&gt;</code></p></li>
</ol>

<h2>PHPStorm Configuration</h2>

<pre><code>--testsuite Unit --filter LoftCoreUnitTest  --coverage-html coverage
</code></pre>

<p><filter>
    <whitelist>
      <directory>./includes</directory>
      <directory>./lib</directory>
      <directory>./modules</directory>
      <directory>../modules</directory>
      <directory>../sites</directory></p>

<pre><code> &lt;/whitelist&gt;
</code></pre>

<p></filter></p>
</section>

<div class="search__results">
  <div id="tipue_search_content"></div>
</div>

<footer>
  <div class="pager"><a href="class_args_map.html" class="prev class_args_map">&laquo;Class Arguments Map</a><a href="index.html" class="index pager__book-title">Drupal Test</a><a href="destructive.html" class="next destructive">Destructive Tests&raquo;</a></div>  
  <div id="footer-legaleeze">
    <p class="legaleeze center">Version: 0.5.0 &bull; Last Updated: Mon, 08 Apr 2019 17:22:10 -0700</p>
  </div>
</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="search/tipuesearch_content.js"></script>
  <script src="search/tipuesearch_set.js"></script>
  <script src="search/tipuesearch.min.js"></script>
  <script>
    $(document).ready(function() {
      $('#tipue_search_input').tipuesearch()
    })
  </script>
<script src="js/core.js"></script>
</body>
</html>

