<!DOCTYPE html>

<html>
<head>
  <title>Cheatsheet for Client Tests</title>
  <link href="search/tipuesearch.css" rel="stylesheet">
  <link href="style.css" rel="stylesheet">
</head>

<body class="page--cl--client-cs">
<header>
  <div class="pager"><a href="cl--client.html" class="prev cl--client">&laquo;Client Tests</a><a href="index.html" class="index pager__book-title">Drupal Test</a><a href="cl--example.html" class="next cl--example">Client Test Examples&raquo;</a></div></header>
<section class="sub-header">
  <div class="breadcrumbs"><a href="index.html">Index</a>
         &raquo
                        <a href="cl--client.html">Client Testing</a>
         &raquo
      </div>      <div class="search__wrapper">
  <form action="search--results.html">
    <input type="text" class="search-input" name="q" id="tipue_search_input" autocomplete="off" required>
  </form>
</div>
  </section>


<h1>Cheatsheet for Client Tests</h1>

<section>

<table>
<thead>
<tr>
  <th>ClientTestCase</th>
</tr>
</thead>
<tbody>
<tr>
  <td><strong>assert</strong> <em>($fail_message = '')</em></td>
</tr>
<tr>
  <td><strong>assertContentType</strong> <em>($expected_type)</em></td>
</tr>
<tr>
  <td><strong>assertElementAttributeNotEmpty</strong> <em>($attribute, $css_selector, $index = 0)</em></td>
</tr>
<tr>
  <td><strong>assertElementExists</strong> <em>($css_selector, $failure_message = '')</em></td>
</tr>
<tr>
  <td><strong>assertElementNotEmpty</strong> <em>($css_selector, $index = 0)</em></td>
</tr>
<tr>
  <td><strong>assertElementNotExists</strong> <em>($css_selector, $failure_message = '')</em></td>
</tr>
<tr>
  <td><strong>assertElementNotVisible</strong> <em>($css_selector, $failure_message = '')</em></td>
</tr>
<tr>
  <td><strong>assertElementRegExp</strong> <em>($expected, $css_selector, $index = 0)</em></td>
</tr>
<tr>
  <td><strong>assertElementSame</strong> <em>($expected, $css_selector, $index = 0)</em></td>
</tr>
<tr>
  <td><strong>assertElementVisible</strong> <em>($css_selector, $failure_message = '')</em></td>
</tr>
<tr>
  <td><strong>assertMetaTagSame</strong> <em>($expected, $name, $attribute)</em></td>
</tr>
<tr>
  <td><strong>assertResponseIsAjaxCommands</strong> <em>(GuzzleHttp\Psr7\Response or NULL $response = NULL)</em></td>
</tr>
<tr>
  <td><strong>assertResponseMatchesSchema</strong> <em>($schema_filename, GuzzleHttp\Psr7\Response or NULL $response = NULL)</em></td>
</tr>
<tr>
  <td><strong>assertUrlRedirectsTo</strong> <em>($redirected_url, $url)</em></td>
</tr>
<tr>
  <td><strong>el</strong> <em>($css_selector, $limit_to_one = true)</em></td>
</tr>
<tr>
  <td><strong>els</strong> <em>($css_selector)</em></td>
</tr>
<tr>
  <td><strong>emptyCookieJar</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>generate</strong> <em>($method)</em></td>
</tr>
<tr>
  <td><strong>getDomElements</strong> <em>(array $css_selectors)</em></td>
</tr>
<tr>
  <td><strong>getDrupalCommandsClient</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>getHtmlClient</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>getJsonClient</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>getSession</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>getStored</strong> <em>($key, $default = NULL)</em></td>
</tr>
<tr>
  <td><strong>getXmlClient</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>loadJsonByUrl</strong> <em>($url)</em></td>
</tr>
<tr>
  <td><strong>loadPageByUrl</strong> <em>($url)</em></td>
</tr>
<tr>
  <td><strong>loadXmlByUrl</strong> <em>($url)</em></td>
</tr>
<tr>
  <td><strong>store</strong> <em>($key, $value)</em></td>
</tr>
</tbody>
</table>

<blockquote>
  <p>There is some overlap in assertions between methods of <code>ClientTestCase</code> and methods on Mink's <code>WebAssert</code> class, but the former always uses css selectors, so it's a little less verbose.</p>
</blockquote>

<h2>Working with <code>NodeElement</code> objects</h2>

<p>Learn <a href="http://mink.behat.org/en/latest/guides/traversing-pages.html#documentelement-and-nodeelement">more here</a>.</p>

<pre><code>&lt;?php

class Test {

  public function testExample() {

    // By using getDomElements we ensure only one of .t-link.
    $el = $this-&gt;loadPageByUrl('/node/9750')
      -&gt;getDomElements([
        '.t-link',
      ]);

    // $el['.t-link'] is an instance of NodeElement.
    $el['.t-link']-&gt;click();

    // Altenatively you could do this.  But it will not break if there is
    // more than one '.t-link' on the page. So it's less certain.
    $this-&gt;el('.t-link')-&gt;click()
      }

}
</code></pre>

<table>
<thead>
<tr>
  <th>NodeElement</th>
</tr>
</thead>
<tbody>
<tr>
  <td><strong>attachFile</strong> <em>($path)</em></td>
</tr>
<tr>
  <td><strong>blur</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>check</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>click</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>doubleClick</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>dragTo</strong> <em>(Behat\Mink\Element\ElementInterface $destination)</em></td>
</tr>
<tr>
  <td><strong>focus</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>getAttribute</strong> <em>($name)</em></td>
</tr>
<tr>
  <td><strong>getParent</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>getTagName</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>getValue</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>getXpath</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>hasAttribute</strong> <em>($name)</em></td>
</tr>
<tr>
  <td><strong>hasClass</strong> <em>($className)</em></td>
</tr>
<tr>
  <td><strong>isChecked</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>isSelected</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>isVisible</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>keyDown</strong> <em>($char, $modifier = NULL)</em></td>
</tr>
<tr>
  <td><strong>keyPress</strong> <em>($char, $modifier = NULL)</em></td>
</tr>
<tr>
  <td><strong>keyUp</strong> <em>($char, $modifier = NULL)</em></td>
</tr>
<tr>
  <td><strong>mouseOver</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>press</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>rightClick</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>selectOption</strong> <em>($option, $multiple = false)</em></td>
</tr>
<tr>
  <td><strong>setValue</strong> <em>($value)</em></td>
</tr>
<tr>
  <td><strong>submit</strong> <em>()</em></td>
</tr>
<tr>
  <td><strong>uncheck</strong> <em>()</em></td>
</tr>
</tbody>
</table>

<h2>Making Assertions with Mink</h2>

<p>Load a page and then make assertions using Mink's <em>WebAssert</em> class.</p>

<pre><code>&lt;?php

class Test {

  public function testExample() {
    $this-&gt;loadPageByUrl('/node/9750')
      -&gt;assert()
      -&gt;elementTextContains('css', '#button', 'English');

    $this-&gt;assert()
      -&gt;elementTextContains('css', '#button-2', 'Spanish');
  }

}
</code></pre>

<table>
<thead>
<tr>
  <th>WebAssert</th>
</tr>
</thead>
<tbody>
<tr>
  <td><strong>addressEquals</strong> <em>($page)</em></td>
</tr>
<tr>
  <td><strong>addressMatches</strong> <em>($regex)</em></td>
</tr>
<tr>
  <td><strong>addressNotEquals</strong> <em>($page)</em></td>
</tr>
<tr>
  <td><strong>checkboxChecked</strong> <em>($field, Behat\Mink\Element\TraversableElement or NULL $container = NULL)</em></td>
</tr>
<tr>
  <td><strong>checkboxNotChecked</strong> <em>($field, Behat\Mink\Element\TraversableElement or NULL $container = NULL)</em></td>
</tr>
<tr>
  <td><strong>cookieEquals</strong> <em>($name, $value)</em></td>
</tr>
<tr>
  <td><strong>cookieExists</strong> <em>($name)</em></td>
</tr>
<tr>
  <td><strong>elementAttributeContains</strong> <em>($selectorType, $selector, $attribute, $text)</em></td>
</tr>
<tr>
  <td><strong>elementAttributeExists</strong> <em>($selectorType, $selector, $attribute)</em></td>
</tr>
<tr>
  <td><strong>elementAttributeNotContains</strong> <em>($selectorType, $selector, $attribute, $text)</em></td>
</tr>
<tr>
  <td><strong>elementContains</strong> <em>($selectorType, $selector, $html)</em></td>
</tr>
<tr>
  <td><strong>elementExists</strong> <em>($selectorType, $selector, Behat\Mink\Element\ElementInterface or NULL $container = NULL)</em></td>
</tr>
<tr>
  <td><strong>elementNotContains</strong> <em>($selectorType, $selector, $html)</em></td>
</tr>
<tr>
  <td><strong>elementNotExists</strong> <em>($selectorType, $selector, Behat\Mink\Element\ElementInterface or NULL $container = NULL)</em></td>
</tr>
<tr>
  <td><strong>elementsCount</strong> <em>($selectorType, $selector, $count, Behat\Mink\Element\ElementInterface or NULL $container = NULL)</em></td>
</tr>
<tr>
  <td><strong>elementTextContains</strong> <em>($selectorType, $selector, $text)</em></td>
</tr>
<tr>
  <td><strong>elementTextNotContains</strong> <em>($selectorType, $selector, $text)</em></td>
</tr>
<tr>
  <td><strong>fieldExists</strong> <em>($field, Behat\Mink\Element\TraversableElement or NULL $container = NULL)</em></td>
</tr>
<tr>
  <td><strong>fieldNotExists</strong> <em>($field, Behat\Mink\Element\TraversableElement or NULL $container = NULL)</em></td>
</tr>
<tr>
  <td><strong>fieldValueEquals</strong> <em>($field, $value, Behat\Mink\Element\TraversableElement or NULL $container = NULL)</em></td>
</tr>
<tr>
  <td><strong>fieldValueNotEquals</strong> <em>($field, $value, Behat\Mink\Element\TraversableElement or NULL $container = NULL)</em></td>
</tr>
<tr>
  <td><strong>pageTextContains</strong> <em>($text)</em></td>
</tr>
<tr>
  <td><strong>pageTextMatches</strong> <em>($regex)</em></td>
</tr>
<tr>
  <td><strong>pageTextNotContains</strong> <em>($text)</em></td>
</tr>
<tr>
  <td><strong>pageTextNotMatches</strong> <em>($regex)</em></td>
</tr>
<tr>
  <td><strong>responseContains</strong> <em>($text)</em></td>
</tr>
<tr>
  <td><strong>responseHeaderContains</strong> <em>($name, $value)</em></td>
</tr>
<tr>
  <td><strong>responseHeaderEquals</strong> <em>($name, $value)</em></td>
</tr>
<tr>
  <td><strong>responseHeaderMatches</strong> <em>($name, $regex)</em></td>
</tr>
<tr>
  <td><strong>responseHeaderNotContains</strong> <em>($name, $value)</em></td>
</tr>
<tr>
  <td><strong>responseHeaderNotEquals</strong> <em>($name, $value)</em></td>
</tr>
<tr>
  <td><strong>responseHeaderNotMatches</strong> <em>($name, $regex)</em></td>
</tr>
<tr>
  <td><strong>responseMatches</strong> <em>($regex)</em></td>
</tr>
<tr>
  <td><strong>responseNotContains</strong> <em>($text)</em></td>
</tr>
<tr>
  <td><strong>responseNotMatches</strong> <em>($regex)</em></td>
</tr>
<tr>
  <td><strong>statusCodeEquals</strong> <em>($code)</em></td>
</tr>
<tr>
  <td><strong>statusCodeNotEquals</strong> <em>($code)</em></td>
</tr>
</tbody>
</table>
</section>

<div class="search__results">
  <div id="tipue_search_content"></div>
</div>

<footer>
  <div class="pager"><a href="cl--client.html" class="prev cl--client">&laquo;Client Tests</a><a href="index.html" class="index pager__book-title">Drupal Test</a><a href="cl--example.html" class="next cl--example">Client Test Examples&raquo;</a></div>  
  <div id="footer-legaleeze">
    <p class="legaleeze center">Version: 0.5.5 &bull; Last Updated: Wed, 24 Apr 2019 14:44:28 -0700</p>
  </div>
</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="search/tipuesearch_content.js"></script>
  <script src="search/tipuesearch_set.js"></script>
  <script src="search/tipuesearch.min.js"></script>
  <script>
    $(document).ready(function() {
      $('#tipue_search_input').tipuesearch()
    })
  </script>
<script src="js/core.js"></script>
</body>
</html>

